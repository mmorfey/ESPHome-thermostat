üá∫üá¶ **–Ü–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–∏–π —Å–∞–º–æ–Ω–∞–≤—á–∞–ª—å–Ω–∏–π —Ç–µ—Ä–º–æ—Å—Ç–∞—Ç –Ω–∞ –±–∞–∑—ñ ESP8266 (Wemos D1 mini)  
–¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –≥–∞–∑–æ–≤–∏–º –∫–æ—Ç–ª–æ–º Bosch Gaz 6000 W —á–µ—Ä–µ–∑ OpenTherm**

üá¨üáß **Advanced self-learning thermostat based on ESP8266 (Wemos D1 mini)  
for controlling Bosch Gaz 6000 W gas boiler via OpenTherm**

---

## üî• –û—Å–Ω–æ–≤–Ω–∞ —ñ–¥–µ—è –ø—Ä–æ—î–∫—Ç—É

–¶–µ–π –ø—Ä–æ—î–∫—Ç ‚Äî —Ü–µ **DIY OpenTherm-—Ç–µ—Ä–º–æ—Å—Ç–∞—Ç –∑ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—é –ª–æ–≥—ñ–∫–æ—é**, —è–∫–∏–π:

- –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø—ñ–¥—Ç—Ä–∏–º—É—î —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É,
- **–≤–∏–≤—á–∞—î —Ç–µ–ø–ª–æ–≤—É —ñ–Ω–µ—Ä—Ü—ñ—é –±—É–¥–∏–Ω–∫—É**,
- –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–ø—Ç–∏–º—ñ–∑—É—î **–Ω—ñ—á–Ω–∏–π –µ–∫–æ-—Ä–µ–∂–∏–º**,
- –ø–æ—î–¥–Ω—É—î **PID-–∫–µ—Ä—É–≤–∞–Ω–Ω—è + –ø–æ–≥–æ–¥–Ω—É –∫—Ä–∏–≤—É**,
- —Å—Ç–∞–±—ñ–ª—å–Ω–æ –ø—Ä–∞—Ü—é—î –Ω–∞–≤—ñ—Ç—å –ø—Ä–∏ –≤—Ç—Ä–∞—Ç—ñ Wi-Fi –∞–±–æ Home Assistant.

–ü—Ä–æ—î–∫—Ç —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π **–ø–æ–≤–Ω—ñ—Å—Ç—é –Ω–∞ ESPHome**, –±–µ–∑ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö —Å–∫—Ä–∏–ø—Ç—ñ–≤.

---

## üß† –ö–ª—é—á–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### üå°Ô∏è –ê–¥–∞–ø—Ç–∏–≤–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ—é
- PID-—Ä–µ–≥—É–ª—è—Ç–æ—Ä ESPHome
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∑–º—ñ–Ω–∞ PID-–ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ (–¥–µ–Ω—å / –Ω—ñ—á)
- –û–±–º–µ–∂–µ–Ω–Ω—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ —Ç–µ–ø–ª–æ–Ω–æ—Å—ñ—è

### üåô –†–æ–∑—É–º–Ω–∏–π –Ω—ñ—á–Ω–∏–π —Ä–µ–∂–∏–º (Eco Mode)
- –†–æ–∑–∫–ª–∞–¥ –Ω—ñ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É –∑ UI
- –î–∏–Ω–∞–º—ñ—á–Ω–∏–π **eco_offset**, —è–∫–∏–π:
  - –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ñ–π —à–≤–∏–¥–∫–æ—Å—Ç—ñ –æ—Ö–æ–ª–æ–¥–∂–µ–Ω–Ω—è –±—É–¥–∏–Ω–∫—É
  - –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ç—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ –Ω–æ—á—ñ
  - –º–∞—î –∑–∞—Ö–∏—Å–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è (clamp)

### ü§ñ –°–∞–º–æ–Ω–∞–≤—á–∞–Ω–Ω—è (–±–µ–∑ ML, –∞–ª–µ –∑ —Ñ—ñ–∑–∏–∫–æ—é üòâ)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è:
  - —à–≤–∏–¥–∫–æ—Å—Ç—ñ –æ—Ö–æ–ª–æ–¥–∂–µ–Ω–Ω—è –±—É–¥–∏–Ω–∫—É (¬∞C/–≥–æ–¥)
  - —à–≤–∏–¥–∫–æ—Å—Ç—ñ –Ω–∞–≥—Ä—ñ–≤—É –±—É–¥–∏–Ω–∫—É (¬∞C/–≥–æ–¥)
- –©–æ—Ä–∞–Ω–∫—É –∫–æ—Ä–∏–≥—É—î—Ç—å—Å—è –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç `eco_gain`

### üå¶Ô∏è –ü–æ–≥–æ–¥–Ω–∞ –∫—Ä–∏–≤–∞ (Equithermic Curve)
- –î–∏–Ω–∞–º—ñ—á–Ω–∏–π –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –≤—É–ª–∏—á–Ω–æ—ó —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏
- –ö–µ—à—É–≤–∞–Ω–Ω—è –≤—É–ª–∏—á–Ω–æ—ó —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ (2 –≥–æ–¥–∏–Ω–∏)
- –ë–µ–∑–ø–µ—á–Ω–∏–π fallback –ø—Ä–∏ –≤—Ç—Ä–∞—Ç—ñ HA

### üß© –ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å —ñ fault-tolerance
- –ê–≤—Ç–æ–≤–∏–±—ñ—Ä –¥–∂–µ—Ä–µ–ª–∞ –∫—ñ–º–Ω–∞—Ç–Ω–æ—ó —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏:
  - Home Assistant ‚Üí BME280 fallback
- –ö–µ—à—É–≤–∞–Ω–Ω—è –∑–æ–≤–Ω—ñ—à–Ω—å–æ—ó —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏
- –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏—Ö –≤–∏–º—ñ—Ä—é–≤–∞–Ω—å
- –û–±—Ä–æ–±–∫–∞ OpenTherm timeout-—ñ–≤

---

## üß∞ –ê–ø–∞—Ä–∞—Ç–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞

- **MCU**: Wemos D1 mini (ESP8266)
- **–ü—Ä–æ—Ç–æ–∫–æ–ª**: OpenTherm (Master OpenTherm Shield)
- **–î–∞—Ç—á–∏–∫–∏**:
  - BME280 (I¬≤C)
  - Home Assistant (room + outdoor temperature)
- **–ö–æ—Ç–µ–ª**: Bosch Gaz 6000 W (–ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ)

---

## üß™ –ê–ª–≥–æ—Ä–∏—Ç–º–∏ —Å–∞–º–æ–Ω–∞–≤—á–∞–Ω–Ω—è (–∫–æ—Ä–æ—Ç–∫–æ)

### –í–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è –æ—Ö–æ–ª–æ–¥–∂–µ–Ω–Ω—è
- –ü—Ä–∞—Ü—é—î **45 —Ö–≤** –ø—Ä–∏ –≤–∏–º–∫–Ω–µ–Ω–æ–º—É –ø–∞–ª—å–Ω–∏–∫—É
- –Ø–∫—â–æ –∫–æ—Ç–µ–ª –≤–º–∏–∫–∞–≤—Å—è ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ñ–¥–∫–∏–¥–∞—î—Ç—å—Å—è
- –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–Ω–∞—á–µ–Ω—å (EMA 70/30)

### –í–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è –Ω–∞–≥—Ä—ñ–≤—É
- –ü—Ä–∞—Ü—é—î **30 —Ö–≤** –ø—Ä–∏ –º–æ–¥—É–ª—è—Ü—ñ—ó > 20%
- –ê–Ω–∞–ª–æ–≥—ñ—á–Ω–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è

### –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –µ–∫–æ-–∑–º—ñ—â–µ–Ω–Ω—è
- –û–±–º–µ–∂–µ–Ω–Ω—è: `0.3 ‚Ä¶ 1.5 ¬∞C`
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —è–∫ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –∫—ñ–º–Ω–∞—Ç–Ω–æ—ó —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ –¥–ª—è PID

### –°–∞–º–æ–Ω–∞–≤—á–∞–Ω–Ω—è eco_gain
- –ê–Ω–∞–ª—ñ–∑ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ –≤—Ä–∞–Ω—Ü—ñ
- –•–æ–ª–æ–¥–Ω–æ ‚Üí –∑–º–µ–Ω—à—É—î–º–æ eco_gain
- –¢–µ–ø–ª–æ ‚Üí –º–æ–∂–Ω–∞ –µ–∫–æ–Ω–æ–º–∏—Ç–∏ –±—ñ–ª—å—à–µ
- –î—ñ–∞–ø–∞–∑–æ–Ω: `0.6 ‚Ä¶ 0.9`

---

### –ü—Ä–æ —Ä–æ–±–æ—Ç—É —Å–∫—Ä–∏–ø—Ç—ñ–≤
1. –°–∫—Ä–∏–ø—Ç –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è —ñ–Ω–µ—Ä—Ü—ñ—ó (`measure_cooling`)

**–Ø–∫ –ø—Ä–∞—Ü—é—î:** –°–∫—Ä–∏–ø—Ç –∞–∫—Ç–∏–≤—É—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –≤—Ö–æ–¥—ñ –≤ –Ω—ñ—á–Ω–∏–π —Ä–µ–∂–∏–º. –í—ñ–Ω —Ñ—ñ–∫—Å—É—î –ø–æ—á–∞—Ç–∫–æ–≤—É —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É —Ç–∞ —á–∞—Å, –ø—ñ—Å–ª—è —á–æ–≥–æ —á–µ–∫–∞—î **45 —Ö–≤–∏–ª–∏–Ω** (—á–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –º–æ–∂–Ω–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏).

‚Ä¢ **–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞:** –†–æ–∑—Ä–∞—Ö–æ–≤—É—î —à–≤–∏–¥–∫—ñ—Å—Ç—å –ø–∞–¥—ñ–Ω–Ω—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ –∑–∞ —Ñ–æ—Ä–º—É–ª–æ—é: Rate=(Tstart‚Äã‚àíTnow‚Äã)/Œît.

‚Ä¢ **–§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ñ—ñ–ª—å—Ç—Ä **EMA (Exponential Moving Average)**: 0.7√ó—Å—Ç–∞—Ä–µ_–∑–Ω–∞—á–µ–Ω–Ω—è+0.3√ó–Ω–æ–≤–∏–π_–∑–∞–º—ñ—Ä. –¶–µ –¥–æ–∑–≤–æ–ª—è—î —Å–∏—Å—Ç–µ–º—ñ ¬´–ø–∞–º'—è—Ç–∞—Ç–∏¬ª —ñ—Å—Ç–æ—Ä—ñ—é —ñ –Ω–µ —Ä–µ–∞–≥—É–≤–∞—Ç–∏ –Ω–∞ –≤–∏–ø–∞–¥–∫–æ–≤—ñ –ø—Ä–æ—Ç—è–≥–∏.
	–£ —Ñ–æ—Ä–º—É–ª—ñ **EMA (Exponential Moving Average)**, ¬´–º–∞–≥—ñ—á–Ω—ñ —Ü–∏—Ñ—Ä–∏¬ª –≤–∏–∑–Ω–∞—á–∞—é—Ç—å –±–∞–ª–∞–Ω—Å –º—ñ–∂ —ñ—Å—Ç–æ—Ä—ñ—î—é —Ç–∞ –Ω–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏. –ö–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç **0.7 (–∞–±–æ** **${EMA_ALPHA}****) ‚Äî —Ü–µ –≤–∞–≥–∞ –≤–∂–µ —ñ—Å–Ω—É—é—á–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è ¬´—Ç–µ—Ä–º—ñ—á–Ω–æ–≥–æ –ø–∞—Å–ø–æ—Ä—Ç–∞¬ª –≤–∞—à–æ–≥–æ –±—É–¥–∏–Ω–∫—É, –∞ **0.3 (–∞–±–æ** **1.0 - EMA_ALPHA)** ‚Äî –≤–∞–≥–∞ —Å–≤—ñ–∂–æ–≥–æ –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è. –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î **–ø–ª–∞–≤–Ω–µ –∑–≥–ª–∞–¥–∂—É–≤–∞–Ω–Ω—è**, –∑–∞–≤–¥—è–∫–∏ —è–∫–æ–º—É —Å–∏—Å—Ç–µ–º–∞ –Ω–µ —Ä–µ–∞–≥—É—î –Ω–∞ –≤–∏–ø–∞–¥–∫–æ–≤—ñ –ø—Ä–æ—Ç—è–≥–∏ —á–∏ –∫–æ—Ä–æ—Ç–∫–æ—á–∞—Å–Ω–µ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –≤—ñ–∫–æ–Ω, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—ñ–≤ —ñ–Ω–µ—Ä—Ü—ñ—ó

‚Ä¢ **–ü–µ—Ä–µ–≤–∞–≥–∞:** –°–∏—Å—Ç–µ–º–∞ —Å—Ç–≤–æ—Ä—é—î ¬´—Ç–µ—Ä–º—ñ—á–Ω–∏–π –ø–∞—Å–ø–æ—Ä—Ç¬ª –≤–∞—à–æ–≥–æ –±—É–¥–∏–Ω–∫—É. –í–æ–Ω–∞ —Ç–æ—á–Ω–æ –∑–Ω–∞—î, —è–∫ —à–≤–∏–¥–∫–æ –±—É–¥—ñ–≤–ª—è –≤—Ç—Ä–∞—á–∞—î —Ç–µ–ø–ª–æ —Å–∞–º–µ –∑–∞—Ä–∞–∑, –≤—Ä–∞—Ö–æ–≤—É—é—á–∏ –ø–æ—Ç–æ—á–Ω—É –≤—É–ª–∏—á–Ω—É —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É.

2. –°–∫—Ä–∏–ø—Ç –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è –Ω–∞–≥—Ä—ñ–≤—É (`measure_heating`)

**–Ø–∫ –ø—Ä–∞—Ü—é—î:** –ó–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è, –∫–æ–ª–∏ –ø–∞–ª—å–Ω–∏–∫ –∫–æ—Ç–ª–∞ –∞–∫—Ç–∏–≤–Ω–∏–π —ñ –ø—Ä–∞—Ü—é—î –Ω–∞ –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ –ø–æ–Ω–∞–¥ 10-20%.

‚Ä¢ **–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞:** –í–∏–º—ñ—Ä—é—î, –Ω–∞ —Å–∫—ñ–ª—å–∫–∏ –≥—Ä–∞–¥—É—Å—ñ–≤ –ø—ñ–¥–Ω—ñ–º–∞—î—Ç—å—Å—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ –ø—Ä–∏–º—ñ—â–µ–Ω–Ω—ñ –∑–∞ 30 —Ö–≤–∏–ª–∏–Ω –∞–∫—Ç–∏–≤–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –∫–æ—Ç–ª–∞ (—á–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –º–æ–∂–Ω–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏).

‚Ä¢ **–ü–µ—Ä–µ–≤–∞–≥–∞:** –î–æ–∑–≤–æ–ª—è—î —Å–∏—Å—Ç–µ–º—ñ –∑—Ä–æ–∑—É–º—ñ—Ç–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —Å–∏—Å—Ç–µ–º–∏ –æ–ø–∞–ª–µ–Ω–Ω—è. –¶–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É —á–∞—Å—É ¬´—Ä–∞–Ω–∫–æ–≤–æ–≥–æ —Ä–æ–∑—ñ–≥—Ä—ñ–≤—É¬ª, —â–æ–± –¥—ñ–º –Ω–∞–≥—Ä—ñ–≤—Å—è —Ç–æ—á–Ω–æ –¥–æ –º–æ–º–µ–Ω—Ç—É –≤–∞—à–æ–≥–æ –ø—Ä–æ–±—É–¥–∂–µ–Ω–Ω—è.

3. –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ –ï–∫–æ-–∑–º—ñ—â–µ–Ω–Ω—è (`calculate_eco`)

**–Ø–∫ –ø—Ä–∞—Ü—é—î:** –¶–µ ¬´–º—ñ–∑–∫–∏¬ª —Å–∏—Å—Ç–µ–º–∏ –µ–∫–æ–Ω–æ–º—ñ—ó. –°–∫—Ä–∏–ø—Ç —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î, –Ω–∞ —Å–∫—ñ–ª—å–∫–∏ –≥—Ä–∞–¥—É—Å—ñ–≤ –º–æ–∂–Ω–∞ –¥–æ–∑–≤–æ–ª–∏—Ç–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ñ –≤–ø–∞—Å—Ç–∏ –∑–∞ –Ω—ñ—á.

‚Ä¢ **–§–æ—Ä–º—É–ª–∞:** Offset=–®–≤–∏–¥–∫—ñ—Å—Ç—å_–æ—Ö–æ–ª–æ–¥–∂–µ–Ω–Ω—è√ó–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å_–Ω–æ—á—ñ√ó–ö–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç_–Ω–∞–≤—á–∞–Ω–Ω—è.

‚Ä¢ **–õ–æ–≥—ñ–∫–∞:** –ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –ø—Ä–æ—Å—Ç–æ –∑–Ω–∏–∑–∏—Ç–∏ —Ü—ñ–ª—å —Ç–µ—Ä–º–æ—Å—Ç–∞—Ç–∞ (—â–æ –∑–º—É—Å–∏–ª–æ –± PID-—Ä–µ–≥—É–ª—è—Ç–æ—Ä –ø–æ–≤–Ω—ñ—Å—Ç—é –≤–∏–º–∫–Ω—É—Ç–∏ –∫–æ—Ç–µ–ª), —Å–∫—Ä–∏–ø—Ç –¥–æ–¥–∞—î —Ü–µ –∑–º—ñ—â–µ–Ω–Ω—è –¥–æ –ø–æ–∫–∞–∑–∞–Ω—å —Å–µ–Ω—Å–æ—Ä–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏. PID-—Ä–µ–≥—É–ª—è—Ç–æ—Ä ¬´–¥—É–º–∞—î¬ª, —â–æ –≤ —Ö–∞—Ç—ñ —Ç–µ–ø–ª—ñ—à–µ, –Ω—ñ–∂ —î –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ, —ñ **–º‚Äô—è–∫–æ –∑–Ω–∏–∂—É—î –º–æ–¥—É–ª—è—Ü—ñ—é –ø–∞–ª—å–Ω–∏–∫–∞**.

‚Ä¢ **–ü–µ—Ä–µ–≤–∞–≥–∞:** –ö–æ—Ç–µ–ª –Ω–µ –≤–∏–º–∏–∫–∞—î—Ç—å—Å—è –ø–æ–≤–Ω—ñ—Å—Ç—é, –∞ –ø—Ä–æ–¥–æ–≤–∂—É—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –Ω–∞ –º—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ–π –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ (–º–æ–¥—É–ª—è—Ü—ñ—è 10-30%). –¶–µ –∑–∞–ø–æ–±—ñ–≥–∞—î –≥–ª–∏–±–æ–∫–æ–º—É –≤–∏—Ö–æ–ª–æ–¥–∂–µ–Ω–Ω—é —Å—Ç—ñ–Ω —Ç–∞ —Ä–∞–¥—ñ–∞—Ç–æ—Ä—ñ–≤, —â–æ –µ–∫–æ–Ω–æ–º–∏—Ç—å –≥–∞–∑ –Ω–∞ —Ä–∞–Ω–∫–æ–≤–æ–º—É —Ä–æ–∑—ñ–≥—Ä—ñ–≤—ñ.

‚Ä¢ **–ù–∏–∂–Ω—î –æ–±–º–µ–∂–µ–Ω–Ω—è (ECO_OFFSET_MIN)** –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–µ –Ω–∞ —Ä—ñ–≤–Ω—ñ **0.3¬∞C**, —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ –≤—ñ–¥—á—É—Ç–Ω—É –µ–∫–æ–Ω–æ–º—ñ—é –≥–∞–∑—É.

‚Ä¢ **–í–µ—Ä—Ö–Ω—î –æ–±–º–µ–∂–µ–Ω–Ω—è (ECO_OFFSET_MAX)** —Å—Ç–∞–Ω–æ–≤–∏—Ç—å **1.5¬∞C**. –¶–µ –∫—Ä–∏—Ç–∏—á–Ω–∏–π –ª—ñ–º—ñ—Ç, —è–∫–∏–π –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –±—É–¥–∏–Ω–æ–∫ –Ω–µ –æ—Ö–æ–ª–æ–Ω–µ –∑–∞–Ω–∞–¥—Ç–æ —Å–∏–ª—å–Ω–æ, —ñ –∫–æ—Ç–µ–ª –∑–º–æ–∂–µ –≤—á–∞—Å–Ω–æ –≤—ñ–¥–Ω–æ–≤–∏—Ç–∏ –∫–æ–º—Ñ–æ—Ä—Ç–Ω—É —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –¥–æ –ø–æ—á–∞—Ç–∫—É —Ä–∞–Ω–∫–æ–≤–æ–≥–æ —Ä–æ–∑–∫–ª–∞–¥—É.

4. –†–∞–Ω–∫–æ–≤–µ —Å–∞–º–æ–Ω–∞–≤—á–∞–Ω–Ω—è (`eco_self_learning`)

**–Ø–∫ –ø—Ä–∞—Ü—é—î:** –©–æ—Ä–∞–Ω–∫—É –≤ –º–æ–º–µ–Ω—Ç –≤–∏—Ö–æ–¥—É –∑ –Ω—ñ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É —Å–∏—Å—Ç–µ–º–∞ –ø–æ—Ä—ñ–≤–Ω—é—î —Ä–µ–∞–ª—å–Ω—É —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –∑ —Ü—ñ–ª—å–æ–≤–æ—é.

‚Ä¢ **–õ–æ–≥—ñ–∫–∞:** –Ø–∫—â–æ –≤—Ä–∞–Ω—Ü—ñ –∑–∞–Ω–∞–¥—Ç–æ —Ö–æ–ª–æ–¥–Ω–æ, —Å–∏—Å—Ç–µ–º–∞ –∑–º–µ–Ω—à—É—î `eco_gain` (–Ω–∞—Å—Ç—É–ø–Ω–æ—ó –Ω–æ—á—ñ –µ–∫–æ–Ω–æ–º—ñ—è –±—É–¥–µ –º–µ–Ω—à –∞–≥—Ä–µ—Å–∏–≤–Ω–æ—é). –Ø–∫—â–æ –∑–∞–Ω–∞–¥—Ç–æ —Ç–µ–ø–ª–æ ‚Äî –∑–±—ñ–ª—å—à—É—î, —â–æ–± –∑–µ–∫–æ–Ω–æ–º–∏—Ç–∏ –±—ñ–ª—å—à–µ –≥–∞–∑—É.

‚Ä¢ **–ü–µ—Ä–µ–≤–∞–≥–∞:** –ü–æ–≤–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è. –¢–µ—Ä–º–æ—Å—Ç–∞—Ç —Å–∞–º –ø—ñ–¥–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è –ø—ñ–¥ –∑–º—ñ–Ω—É —Å–µ–∑–æ–Ω—ñ–≤ (–æ—Å—ñ–Ω—å/–∑–∏–º–∞) –±–µ–∑ –≤–∞—à–æ–≥–æ –≤—Ç—Ä—É—á–∞–Ω–Ω—è.

5. –ü—Ä–æ–≥–Ω–æ–∑ —á–∞—Å—É –≤–∏–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è (`calculate_preheat_duration`)

**–Ø–∫ –ø—Ä–∞—Ü—é—î:** –†–æ–∑—Ä–∞—Ö–æ–≤—É—î —Ç–æ—á–Ω–∏–π —á–∞—Å —É –≥–æ–¥–∏–Ω–∞—Ö, –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–π –¥–ª—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü—ñ—ó –Ω—ñ—á–Ω–æ–≥–æ –ø–∞–¥—ñ–Ω–Ω—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏.

‚Ä¢ **–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞:** –ß–∞—Å=–ï–∫–æ_–∑–º—ñ—â–µ–Ω–Ω—è/–®–≤–∏–¥–∫—ñ—Å—Ç—å_–Ω–∞–≥—Ä—ñ–≤—É.

‚Ä¢ **–ü–µ—Ä–µ–≤–∞–≥–∞:** –í–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ –∫–æ–º—Ñ–æ—Ä—Ç–Ω—É —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É —Ç–æ—á–Ω–æ –∑–∞ —Ä–æ–∑–∫–ª–∞–¥–æ–º. –°–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ –≤–∏—Ä—ñ—à—É—î, —á–∏ –ø–æ—á–∞—Ç–∏ –≥—Ä—ñ—Ç–∏ –æ 5:00, —á–∏ –æ 6:30, –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, –Ω–∞—Å–∫—ñ–ª—å–∫–∏ –æ—Ö–æ–ª–æ–≤ –¥—ñ–º –∑–∞ –Ω—ñ—á.

6. –ö–æ–Ω—Ç—Ä–æ–ª—å —è–∫–æ—Å—Ç—ñ –Ω–∞–≤—á–∞–Ω–Ω—è (`evaluate_night_quality`)

**–Ø–∫ –ø—Ä–∞—Ü—é—î:** –¶–µ ¬´–∑–∞–ø–æ–±—ñ–∂–Ω–∏–∫¬ª, —è–∫–∏–π –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –±—É–≤ –∑–∞–º—ñ—Ä —á–∏—Å—Ç–æ—Ç–∏.

‚Ä¢ **–ö—Ä–∏—Ç–µ—Ä—ñ—ó:** –ù—ñ—á –±—É–ª–∞ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–æ–≤–≥–æ—é? –ß–∏ –Ω–µ –≤–º–∏–∫–∞–≤—Å—è –∫–æ—Ç–µ–ª —Å–µ—Ä–µ–¥ –Ω–æ—á—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —á–µ—Ä–µ–∑ –ì–í–ü)? –ß–∏ –Ω–µ –±—É–ª–æ –ø–æ–º–∏–ª–æ–∫ –¥–∞—Ç—á–∏–∫—ñ–≤?.

‚Ä¢ **–ü–µ—Ä–µ–≤–∞–≥–∞:** –ó–∞—Ö–∏—â–∞—î –∞–ª–≥–æ—Ä–∏—Ç–º –Ω–∞–≤—á–∞–Ω–Ω—è –≤—ñ–¥ ¬´–±—Ä—É–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö¬ª. –Ø–∫—â–æ –≤–∏ –≤–Ω–æ—á—ñ –≤—ñ–¥–∫—Ä–∏–ª–∏ –≤—ñ–∫–Ω–æ, —Å–∏—Å—Ç–µ–º–∞ —Ü–µ –∑—Ä–æ–∑—É–º—ñ—î —ñ –Ω–µ –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü–µ–π –∑–∞–º—ñ—Ä –¥–ª—è –∑–º—ñ–Ω–∏ –≥–ª–æ–±–∞–ª—å–Ω–∏—Ö –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç—ñ–≤.

---

## üñ•Ô∏è –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å

- Home Assistant
- –í–±—É–¥–æ–≤–∞–Ω–∏–π ESPHome Web Server
- –ì—Ä—É–ø—É–≤–∞–Ω–Ω—è —Å—É—Ç–Ω–æ—Å—Ç–µ–π:
  - Heating
  - Calculations
  - Errors
  - Wi-Fi
  - System info

---

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ

- –ü—Ä–æ—î–∫—Ç **–Ω–µ —î plug-and-play**
- –ü–æ—Ç—Ä–µ–±—É—î:
  - —Ä–æ–∑—É–º—ñ–Ω–Ω—è OpenTherm
  - –±–∞–∑–æ–≤–æ–≥–æ –∑–Ω–∞–Ω–Ω—è ESPHome
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ **–Ω–∞ –≤–ª–∞—Å–Ω–∏–π —Ä–∏–∑–∏–∫**
- –ü–µ—Ä–µ–¥ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º –¥–æ –∫–æ—Ç–ª–∞ ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å
